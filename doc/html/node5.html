<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>4. Running Sympa </TITLE>
<META NAME="description" CONTENT="4. Running Sympa ">
<META NAME="keywords" CONTENT="sympa">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="sympa.css">

<LINK REL="next" HREF="node6.html">
<LINK REL="previous" HREF="node4.html">
<LINK REL="up" HREF="sympa.html">
<LINK REL="next" HREF="node6.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#ffffff">
<!--Navigation Panel-->
<A NAME="tex2html860"
  HREF="node6.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html854"
  HREF="sympa.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html848"
  HREF="node4.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html856"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html858"
  HREF="node31.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html861"
  HREF="node6.html">5. Upgrading Sympa</A>
<B> Up:</B> <A NAME="tex2html855"
  HREF="sympa.html">Sympa Mailing Lists Management Software version</A>
<B> Previous:</B> <A NAME="tex2html849"
  HREF="node4.html">3. Installing Sympa</A>
 &nbsp; <B>  <A NAME="tex2html857"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html859"
  HREF="node31.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html862"
  HREF="node5.html#SECTION00510000000000000000">4.1 sympa.pl</A>
<LI><A NAME="tex2html863"
  HREF="node5.html#SECTION00520000000000000000">4.2 INIT script</A>
<LI><A NAME="tex2html864"
  HREF="node5.html#SECTION00530000000000000000">4.3 Stopping <I>Sympa</I> and signals</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00500000000000000000">
4. Running <I>Sympa</I> </A>
</H1>

<P>

<H1><A NAME="SECTION00510000000000000000"></A>
<A NAME="sympa.pl"></A>
<BR>
4.1 sympa.pl
</H1>

<P>
<A NAME="7415"></A><TT>sympa.pl</TT> is the main daemon ; it processes mail commands and is in charge of
messages distribution.

<P>
<A NAME="7418"></A><TT>sympa.pl</TT> recognizes the following command line arguments:

<P>

<UL>
<LI><A NAME="7421"></A><TT>- - debug</TT> | <A NAME="7424"></A><TT>-d</TT> 

<P>
Sets <I>Sympa</I> in debug mode and keeps it attached to the terminal. 
  Debugging information is output to STDERR, along with standard log
  information. Each function call is traced. Useful while reporting
  a bug.

<P>
</LI>
<LI><A NAME="7428"></A><TT>service</TT>  <I>process_command</I> | <I>process_message</I>

<P>
Sets <I>Sympa</I> daemon in way it process only message distribution (process_message) or in way it process only command (process_command).

<P>
</LI>
<LI><A NAME="7441"></A><TT>- - config <I>config_file</I></TT> | <A NAME="7456"></A><TT>-f <I>config_file</I></TT>

<P>
Forces <I>Sympa</I> to use an alternative configuration file. Default behavior is
  to use the configuration file as defined in the Makefile ($CONFIG).

<P>
</LI>
<LI><A NAME="7463"></A><TT>- - mail</TT> | <A NAME="7466"></A><TT>-m</TT> 

<P>
<I>Sympa</I> will log calls to sendmail, including recipients. Useful for
  keeping track of each mail sent (log files may grow faster though).

<P>
</LI>
<LI><A NAME="7479"></A><TT>- - lang <I>catalog</I></TT> | <A NAME="7494"></A><TT>-l <I>catalog</I></TT>

<P>
Set this option to use a language catalog for <I>Sympa</I>. 
  The corresponding catalog file must be located in <A NAME="7501"></A><TT>~sympa/locale</TT>
  directory. 

<P>
</LI>
<LI><A NAME="7515"></A><TT>- - keepcopy <I>recipient_directory</I></TT> | <A NAME="7530"></A><TT>-k <I>recipient_directory</I></TT>

<P>
This option tells Sympa to keep a copy of every incoming message,
  instead of deleting them. <I>recipient_directory</I> is the directory
  to store messages.

<P><PRE>
/home/sympa/bin/sympa.pl
</PRE>

<P>
</LI>
<LI><A NAME="7548"></A><TT>- - create_list - - robot <I>robotname</I> - - input_file <I>/path/to/list_file.xml</I></TT>

<P>
Create the list described by the xml file, see <A HREF="node20.html#list-creation-sympa">19.3</A>, 
page&nbsp;<A HREF="node20.html#list-creation-sympa"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="7566"></A><TT>- - close_list <I>listname@robot</I></TT>

<P>
Close the list (changing its status to closed), remove aliases (if sendmail_aliases
parameter was set) and remove
subscribers from DB (a dump is created in the list directory to allow restoring
the list). See <A HREF="#family-close-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>, page&nbsp;<A HREF="#family-close-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A> when you
are in a family context.

<P>
</LI>
<LI><A NAME="7584"></A><TT>- - dump <I>listname <TT>|</TT> ALL</I></TT>

<P>
Dumps subscribers of a list or all lists. Subscribers are dumped
  in <A NAME="7593"></A><TT>subscribers.db.dump</TT>.

<P>
</LI>
<LI><A NAME="7605"></A><TT>- - import <I>listname</I></TT>

<P>
Import subscribers in the <I>listname</I> list. Data are read from STDIN.

<P>
</LI>
<LI><A NAME="7611"></A><TT>- - lowercase</TT>

<P>
Lowercases e-mail addresses in database.

<P>
</LI>
<LI><A NAME="7614"></A><TT>- - help</TT> | <A NAME="7617"></A><TT>-h</TT>

<P>
Print usage of sympa.pl.

<P>
</LI>
<LI><A NAME="7620"></A><TT>- - make_alias_file</TT>

<P>
Create an aliases file in /tmp/ with all list aliases (only list which status is 'open'). It uses the list_aliases.tt2
template.

<P>
</LI>
<LI><A NAME="7623"></A><TT>- - version</TT> | <A NAME="7626"></A><TT>-v</TT>

<P>
Print current version of <I>Sympa</I>.

<P>
</LI>
<LI><A NAME="7645"></A><TT>- - instanciate_family <I>familyname</I> <I>robotname</I> - - input_file <I>/path/to/family_file.xml</I></TT>

<P>
Instantiate the family <I>familyname</I>. See <A HREF="node21.html#lists-families">20</A>, 
page&nbsp;<A HREF="node21.html#lists-families"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="7669"></A><TT>- - close_family <I>familyname</I> - - robot <I>robotname</I></TT>

<P>
Close the <I>familyname</I> family. See <A HREF="node21.html#family-closure">20.2.4</A>, 
   page&nbsp;<A HREF="node21.html#family-closure"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="7693"></A><TT>- - add_list <I>familyname</I> - - robot <I>robotname</I> - - input_file <I>/path/to/list_file.xml</I></TT>

<P>
Add the list described in the XML file to the <I>familyname</I> family. See <A HREF="node21.html#family-add-list">20.2.5</A>, 
   page&nbsp;<A HREF="node21.html#family-add-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="7720"></A><TT>- - modify_list <I>familyname</I> - - robot <I>robotname</I> - - input_file <I>/path/to/list_file.xml</I></TT>

<P>
Modify the existing family list, with description contained in the XML file. See <A HREF="node21.html#family-modify-list">20.2.7</A>, 
   page&nbsp;<A HREF="node21.html#family-modify-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="7741"></A><TT>- - sync_include <I>listaddress</I> </TT>

<P>
Trigger an update of list members, usefull if the list uses
   external data sources.

<P>
</LI>
<LI><A NAME="7747"></A><TT>- - upgrade - - from=X - -to=Y </TT>

<P>
Runs Sympa maintenance script to upgrate from version X to version Y

<P>
</LI>
<LI><A NAME="7750"></A><TT>- - reload_list_config - -list=mylist@dom </TT>

<P>
Recreates all <A NAME="7753"></A><TT>configbin</TT> files. You should run this command if you edit authorization scenarios. The list parameter is optional.

<P>
</LI>
</UL>

<P>

<H1><A NAME="SECTION00520000000000000000"></A>
<A NAME="init"></A>
<BR>
4.2 INIT script
</H1>

<P>
The <A NAME="7756"></A><TT>make install</TT> step should have installed a sysV init script in
 your <A NAME="7759"></A><TT>/etc/rc.d/init.d/</TT> directory (you can change this at <A NAME="7762"></A><TT>configure</TT>
 time with the <A NAME="7765"></A><TT>-with-initdir</TT> option). You should edit your runlevels to make
 sure <I>Sympa</I> starts after Apache and MySQL. Note that <A NAME="7769"></A>MySQL should
 also start before <A NAME="7770"></A>Apache because of <A NAME="7771"></A><TT>wwsympa.fcgi</TT>.

<P>
This script starts these deamons : sympa.pl, task_manager.pl, archived.pl and bounced.pl.

<P>

<H1><A NAME="SECTION00530000000000000000"></A>
 <A NAME="stop-signals"></A> <A NAME="655"></A>
<BR>
4.3 Stopping <I>Sympa</I> and signals
</H1>

<P>

<H3><A NAME="SECTION00530100000000000000"></A><A NAME="7775"></A>
<BR>
4.3.0.1 <TT>kill -TERM</TT>
</H3>

<P>
When this signal is sent to sympa.pl (<A NAME="7778"></A><TT>kill -TERM</TT>), the daemon is stopped ending message distribution in progress 
 and this can be long (for big lists). If <A NAME="7781"></A><TT>kill -TERM</TT> is used, sympa.pl will stop immediatly whatever a distribution 
 message is in progress. In this case, when sympa.pl restart, message will distributed many times.

<P>

<H3><A NAME="SECTION00530200000000000000"></A><A NAME="7784"></A>
<BR>
4.3.0.2 <TT>kill -HUP</TT>
</H3>

<P>
When this signal is sent to sympa.pl (<A NAME="7787"></A><TT>kill -HUP</TT>), it switchs of the <A NAME="7790"></A><TT>-mail</TT> logging option
 and continues current task.

<P>

<HR>
<!--Navigation Panel-->
<A NAME="tex2html860"
  HREF="node6.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html854"
  HREF="sympa.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html848"
  HREF="node4.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html856"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html858"
  HREF="node31.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html861"
  HREF="node6.html">5. Upgrading Sympa</A>
<B> Up:</B> <A NAME="tex2html855"
  HREF="sympa.html">Sympa Mailing Lists Management Software version</A>
<B> Previous:</B> <A NAME="tex2html849"
  HREF="node4.html">3. Installing Sympa</A>
 &nbsp; <B>  <A NAME="tex2html857"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html859"
  HREF="node31.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
root
2006-09-06
</ADDRESS>
</BODY>
</HTML>
